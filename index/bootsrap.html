<!-- HTML -->
<!-- 添加 Bootstrap CSS 和 JS -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"></script>

<!-- 数量输入模态框 -->
<div class="modal" id="quantityModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">输入数量</h5>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="quantityForm">
                    <div class="form-group">
                        <label for="quantityInput">购买数量：</label>
                        <input type="number" class="form-control" id="quantityInput" placeholder="输入购买数量" required>
                    </div>
                    <button type="submit" class="btn btn-primary">确认</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- 订单详情模态框 -->
<div class="modal" id="orderDetailModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">订单详情</h5>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body" id="orderDetailContent">
                <!-- 订单详情将通过 JavaScript 动态填充到这里 -->
            </div>
        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
// 显示输入数量模态框
function showQuantityModal(name, price, shelfLife, dID, vendingMachine) {
    $('#quantityModal').modal('show');

    // 提交数量表单
    $('#quantityForm').submit(function(event) {
        event.preventDefault();
        const quantity = $('#quantityInput').val();
        $('#quantityModal').modal('hide');
        showOrderDetailModal(name, price, shelfLife, dID, vendingMachine, quantity);
    });
}

// 显示订单详情模态框
function showOrderDetailModal(name, price, shelfLife, dID, vendingMachine, quantity) {
    const orderInfo = `
        <p>饮料名: ${name}</p>
        <p>价格: ¥${price}</p>
        <p>保质期: ${shelfLife}</p>
        <p>订单编号: 此处为服务器返回的订单编号</p>
        <p>下单时间: 此处为服务器返回的下单时间</p>
        <p>购买数量: ${quantity}</p>
    `;
    $('#orderDetailContent').html(orderInfo);
    $('#orderDetailModal').modal('show');
}
</script>
